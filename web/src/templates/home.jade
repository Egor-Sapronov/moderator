extends ./partials/layout

block header
    include ./partials/navbar

block main
    section
        .container
            h3 Your API key â€“ #{key}

            .row
                .col-s-8
                    form#check_form
                        .form-group
                            label(for='content_input') Place your content
                            textarea.form-control#content_input
                        .form-group
                            label(for='key_input') Place your API Key
                            input.form-control#key_input
                        button.btn.btn-default(type='submit') Check

block scripts
    script(src='/static/lib/fetch/fetch.js')
    script.

        var submitForm = document.getElementById('check_form');

        submitForm.onsubmit = function (e) {
            e.preventDefault();

            var data = {
                content: document.getElementById('content_input').value,
                key: document.getElementById('key_input').value
            };

            fetch('/api/execute', {
                method: 'POST',
                body: JSON.stringify(data)
            })
                    .then(function (response) {
                        return response.json()
                    })
                    .then(function (json) {

                    });
        };
